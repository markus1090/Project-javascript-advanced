(()=>{let e=[{a:0,b:"#cccccc",f:"#ffffff"},{a:50,b:"#009966",f:"#ffffff"},{a:100,b:"#ffde33",f:"#000000"},{a:150,b:"#ff9933",f:"#000000"},{a:200,b:"#cc0033",f:"#ffffff"},{a:300,b:"#660099",f:"#ffffff"},{a:500,b:"#7e0023",f:"#ffffff"}],t=new class{constructor(e){this.name=e}componentGeo(){let e=document.createElement("DIV");e.classList.add("divGeo"),e.innerHTML="Get station closer:";let t=document.createElement("BUTTON");return t.setAttribute("id","position"),t.textContent="Position",e.appendChild(t),e}success(e){let a=e.coords;!async function(){try{let e="https://api.waqi.info/feed/geo:"+a.latitude+";"+a.longitude+"/?token=20482dc6f3de69576db86cc011ac7d405a7d5c4b",o=await fetch(e),d=await o.json();console.log(d),t.showGeo(d)}catch(e){console.log("error"+e)}}()}showGeo(e){document.getElementById("position").onclick=function(){let a=document.getElementById("show");a.innerHTML="";let o=document.createElement("table");o.setAttribute("id","tableGeo");let d=document.createElement("tbody");d.setAttribute("id","tableBodyGeo"),o.appendChild(d),a.appendChild(o);let n=["Aqui","Date","Time","Name Station","Longitude","Latitude"],i=[_.get(e,["data","aqi"]),_.get(e,["data","time","s"]),_.get(e,["data","time","tz"]),_.get(e,["data","city","name"]),_.get(e,["data","city","geo",0]),_.get(e,["data","city","geo",1])];for(let e=0;e<n.length;e++){let a=document.createElement("tr"),o=document.createElement("th"),d=document.createTextNode(n[e]);o.appendChild(d),a.appendChild(o);let c=document.createElement("td");0==e&&t.checkColor(i[0],c);let l=document.createTextNode(i[e]);c.appendChild(l),a.appendChild(c),document.getElementById("tableBodyGeo").appendChild(a)}t.generateTableIaqi(e)}}generateTableIaqi(e){let a=document.createElement("table");a.setAttribute("id","tableGeo2");let o=document.createElement("tbody");o.setAttribute("id","tableBodyGeo2"),a.appendChild(o),show.appendChild(a);let d=["Carbon Monoxyde","Relative Humidity","Nitrogen Dioxide","Ozone","Atmostpheric Pressure","PM10","PM25","Sulphur Dioxide","Temperature","Wind"],n=[_.get(e,["data","iaqi","co","v"]),_.get(e,["data","iaqi","h","v"]),_.get(e,["data","iaqi","no2","v"]),_.get(e,["data","iaqi","o3","v"]),_.get(e,["data","iaqi","p","v"]),_.get(e,["data","iaqi","pm10","v"]),_.get(e,["data","iaqi","pm25","v"]),_.get(e,["data","iaqi","so2","v"]),_.get(e,["data","iaqi","t","v"]),_.get(e,["data","iaqi","w","v"])];for(let e=0;e<d.length;e++){let a=document.createElement("tr"),o=document.createElement("th"),i=document.createTextNode(d[e]);o.appendChild(i),a.appendChild(o);let c=document.createElement("td");0!=e&&2!=e&&3!=e&&5!=e&&6!=e&&7!=e||t.checkColor(n[e],c);let l=document.createTextNode(n[e]);c.appendChild(l),a.appendChild(c),document.getElementById("tableBodyGeo2").appendChild(a)}}checkColor(t,a){if("-"==t)return;let o=Number(t);for(let t=0;t<e.length;t++)if(o<=e[t].a){a.style.backgroundColor=e[t].b,a.style.color=e[t].f;break}}error(e){console.warn(`ERROR(${e.code}): ${e.message}`)}}("structureGeo");document.getElementById("content").appendChild(t.componentGeo()),navigator.geolocation.getCurrentPosition(t.success,t.error,{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Qcm9nZXR0by1KYXZhc2NyaXB0LUFkdmFuY2VkLy4vc3JjL2dlby5qcyJdLCJuYW1lcyI6WyJzcGVjdHJ1bSIsImEiLCJiIiwiZiIsInNlYXJjaEdlbyIsIm5hbWUiLCJ0aGlzIiwiZWxlbWVudDIiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbm5lckhUTUwiLCJidG4iLCJzZXRBdHRyaWJ1dGUiLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwicG9zIiwiY3JkIiwiY29vcmRzIiwiYXN5bmMiLCJhcGlfdXJsIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJyZXNwb25zZSIsImZldGNoIiwiZGF0YSIsImpzb24iLCJjb25zb2xlIiwibG9nIiwic2hvd0dlbyIsImVyciIsImdlbyIsImdldEVsZW1lbnRCeUlkIiwib25jbGljayIsInNob3ciLCJ0YWJsZSIsInRhYmxlQm9keSIsImFycmF5IiwiYXJyYXlEYXRlIiwiXyIsImdldCIsInAiLCJsZW5ndGgiLCJyb3ciLCJjZWxsIiwiY2VsbFRleHQiLCJjcmVhdGVUZXh0Tm9kZSIsImNlbGwyIiwiY2hlY2tDb2xvciIsImNlbGxUZXh0MiIsImdlbmVyYXRlVGFibGVJYXFpIiwibSIsIm51bSIsIk51bWJlciIsImoiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsImNvbG9yIiwid2FybiIsImNvZGUiLCJtZXNzYWdlIiwiY29tcG9uZW50R2VvIiwibmF2aWdhdG9yIiwiZ2VvbG9jYXRpb24iLCJnZXRDdXJyZW50UG9zaXRpb24iLCJzdWNjZXNzIiwiZXJyb3IiLCJlbmFibGVIaWdoQWNjdXJhY3kiLCJ0aW1lb3V0IiwibWF4aW11bUFnZSJdLCJtYXBwaW5ncyI6Ik1BNEhBLElBTUlBLEVBQVcsQ0FDYixDQUFFQyxFQUFHLEVBQUdDLEVBQUcsVUFBV0MsRUFBRyxXQUN6QixDQUFFRixFQUFHLEdBQUlDLEVBQUcsVUFBV0MsRUFBRyxXQUMxQixDQUFF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SyxFQUFZRCxHQUNyQixHQUFrQixLQUFkQyxFQUFtQixPQUN2QixJQUFJSSxFQUFNQyxPQUFPTCxHQUNqQixJQUFLLElBQUlNLEVBQUksRUFBR0EsRUFBSXZELEVBQVMyQyxPQUFRWSxJQUNqQyxHQUFJRixHQUFPckQsRUFBU3VELEdBQUd0RCxFQUFHLENBQ3RCK0MsRUFBTVEsTUFBTUMsZ0JBQWtCekQsRUFBU3VELEdBQUdyRCxFQUMxQzhDLEVBQU1RLE1BQU1FLE1BQVExRCxFQUFTdUQsR0FBR3BELEVBQ2hDLE9BS1YsTUFBTTRCLEdBQ0pILFFBQVErQixLQUFLLFNBQVM1QixFQUFJNkIsVUFBVTdCLEVBQUk4QixhQW9CdEIsZ0JBQ3hCckQsU0FBU3lCLGVBQWUsV0FBV2pCLFlBQVlaLEVBQVUwRCxnQkFDekRDLFVBQVVDLFlBQVlDLG1CQUFtQjdELEVBQVU4RCxRQUFTOUQsRUFBVStELE1BbEJ4RCxDQUNaQyxvQkFBb0IsRUFDcEJDLFFBQVMsSUFDVEMsV0FBWSxLIiwiZmlsZSI6Imdlby5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgc2VjcmV0TmFtZSA9IHByb2Nlc3MuZW52LlNFQ1JFVF9OQU1FO1xyXG4gXHJcbmNsYXNzIEdlbyB7XHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgIH1cclxuICAgIC8qIENyZWF0aW9uIGNvbXBvbmVudCBHZW8gKi9cclxuICAgIGNvbXBvbmVudEdlbygpIHtcclxuICAgICAgICBsZXQgZWxlbWVudDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuICAgICAgICBlbGVtZW50Mi5jbGFzc0xpc3QuYWRkKCdkaXZHZW8nKTtcclxuICAgICAgICBlbGVtZW50Mi5pbm5lckhUTUwgPSBcIkdldCBzdGF0aW9uIGNsb3NlcjpcIlxyXG4gICAgICAgIGxldCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiQlVUVE9OXCIpO1xyXG4gICAgICAgIGJ0bi5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3Bvc2l0aW9uJyk7XHJcbiAgICAgICAgYnRuLnRleHRDb250ZW50ID0gXCJQb3NpdGlvblwiO1xyXG4gICAgICAgIGVsZW1lbnQyLmFwcGVuZENoaWxkKGJ0bik7XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIFN1Y2Nlc3MgZnVuY3Rpb24gZ2V0Q3VycmVudFBvc2l0aW9uICovXHJcbiAgICBzdWNjZXNzKHBvcykge1xyXG4gICAgICAgIGxldCBjcmQgPSBwb3MuY29vcmRzO1xyXG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uIGdlbygpIHsgXHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgYXBpX3VybCA9IChcImh0dHBzOi8vYXBpLndhcWkuaW5mby9mZWVkL2dlbzpcIiArIGNyZC5sYXRpdHVkZSArXCI7XCIrIGNyZC5sb25naXR1ZGUgKyBcIi8/dG9rZW49XCIgKyBzZWNyZXROYW1lKTtcclxuICAgICAgICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYXBpX3VybCk7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgcmV0dXJuIHNlYXJjaEdlby5zaG93R2VvKGRhdGEpOyAgICAgICAgICBcclxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXJyb3JcIiArIGVycik7IFxyXG4gICAgICAgICAgfSAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICBnZW8oKTsgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgLyogTWV0aG9kIHRoYXQgc2hvd3MgZGF0ZXMgKi9cclxuICAgIHNob3dHZW8oZGF0YSkge1xyXG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwb3NpdGlvblwiKS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGxldCBzaG93ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaG93XCIpO1xyXG4gICAgICAgICAgICBzaG93LmlubmVySFRNTCA9IFwiXCI7XHJcblxyXG4gICAgICAgICAgICBsZXQgdGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7ICAgIFxyXG4gICAgICAgICAgICB0YWJsZS5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInRhYmxlR2VvXCIpO1xyXG4gICAgICAgICAgICBsZXQgdGFibGVCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRib2R5XCIpO1xyXG4gICAgICAgICAgICB0YWJsZUJvZHkuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJ0YWJsZUJvZHlHZW9cIik7XHJcbiAgICAgICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKHRhYmxlQm9keSk7XHJcbiAgICAgICAgICAgIHNob3cuYXBwZW5kQ2hpbGQodGFibGUpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBhcnJheSA9IFtcIkFxdWlcIiwgXCJEYXRlXCIsIFwiVGltZVwiLCBcIk5hbWUgU3RhdGlvblwiLCBcIkxvbmdpdHVkZVwiLCBcIkxhdGl0dWRlXCJdO1xyXG4gICAgICAgICAgICBsZXQgYXJyYXlEYXRlID0gWyhfLmdldChkYXRhLFsnZGF0YScsICdhcWknXSkpLCAoXy5nZXQoZGF0YSxbJ2RhdGEnLCAndGltZScsICdzJ10pKSxcclxuICAgICAgICAgICAgKF8uZ2V0KGRhdGEsWydkYXRhJywgJ3RpbWUnLCAndHonXSkpLCAoXy5nZXQoZGF0YSxbJ2RhdGEnLCAnY2l0eScsICduYW1lJ10pKSwgXHJcbiAgICAgICAgICAgIChfLmdldChkYXRhLFsnZGF0YScsICdjaXR5JywgJ2dlbycsIDBdKSksIChfLmdldChkYXRhLFsnZGF0YScsICdjaXR5JywgJ2dlbycsIDFdKSldO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGZvciAobGV0IHAgPSAwOyBwIDwgYXJyYXkubGVuZ3RoOyBwKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhcIik7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2VsbFRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhcnJheVtwXSk7XHJcbiAgICAgICAgICAgICAgICBjZWxsLmFwcGVuZENoaWxkKGNlbGxUZXh0KTtcclxuICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgY2VsbDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAocCA9PSAwKSB7c2VhcmNoR2VvLmNoZWNrQ29sb3IoYXJyYXlEYXRlWzBdLCBjZWxsMik7fSBcclxuICAgICAgICAgICAgICAgIGxldCBjZWxsVGV4dDIgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhcnJheURhdGVbcF0pO1xyXG4gICAgICAgICAgICAgICAgY2VsbDIuYXBwZW5kQ2hpbGQoY2VsbFRleHQyKTtcclxuICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsMik7XHJcblxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YWJsZUJvZHlHZW9cIikuYXBwZW5kQ2hpbGQocm93KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZWFyY2hHZW8uZ2VuZXJhdGVUYWJsZUlhcWkoZGF0YSk7XHJcbiAgICAgICAgfSAgXHJcbiAgICB9IFxyXG5cclxuICAgIC8qIE1ldGhvZCB0aGF0IGdlbmVyYXRlcyBpYXFpIHRhYmxlIGRhdGVzICovXHJcbiAgICBnZW5lcmF0ZVRhYmxlSWFxaShkYXRhKSB7XHJcbiAgICAgIGxldCB0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTsgICAgXHJcbiAgICAgIHRhYmxlLnNldEF0dHJpYnV0ZShcImlkXCIsIFwidGFibGVHZW8yXCIpO1xyXG4gICAgICBsZXQgdGFibGVCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRib2R5XCIpO1xyXG4gICAgICB0YWJsZUJvZHkuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJ0YWJsZUJvZHlHZW8yXCIpO1xyXG4gICAgICB0YWJsZS5hcHBlbmRDaGlsZCh0YWJsZUJvZHkpO1xyXG4gICAgICBzaG93LmFwcGVuZENoaWxkKHRhYmxlKTtcclxuICAgICAgXHJcbiAgICAgIGxldCBhcnJheSA9IFtcIkNhcmJvbiBNb25veHlkZVwiLCBcIlJlbGF0aXZlIEh1bWlkaXR5XCIsIFwiTml0cm9nZW4gRGlveGlkZVwiLCBcIk96b25lXCIsIFwiQXRtb3N0cGhlcmljIFByZXNzdXJlXCIsIFwiUE0xMFwiLCBcIlBNMjVcIiwgXCJTdWxwaHVyIERpb3hpZGVcIiwgXCJUZW1wZXJhdHVyZVwiLCBcIldpbmRcIl07XHJcbiAgICAgIGxldCBhcnJheURhdGUgPSBbKF8uZ2V0KGRhdGEsWydkYXRhJywgJ2lhcWknLCAnY28nLCAndiddKSksIChfLmdldChkYXRhLFsnZGF0YScsICdpYXFpJywgJ2gnLCAndiddKSksIChfLmdldChkYXRhLFsnZGF0YScsICdpYXFpJywgJ25vMicsICd2J10pKSxcclxuICAgICAgKF8uZ2V0KGRhdGEsWydkYXRhJywgJ2lhcWknLCAnbzMnLCAndiddKSksIChfLmdldChkYXRhLFsnZGF0YScsICdpYXFpJywgJ3AnLCAndiddKSksIChfLmdldChkYXRhLFsnZGF0YScsICdpYXFpJywgJ3BtMTAnLCAndiddKSksXHJcbiAgICAgIChfLmdldChkYXRhLFsnZGF0YScsICdpYXFpJywgJ3BtMjUnLCAndiddKSksIChfLmdldChkYXRhLFsnZGF0YScsICdpYXFpJywgJ3NvMicsICd2J10pKSwgKF8uZ2V0KGRhdGEsWydkYXRhJywgJ2lhcWknLCAndCcsICd2J10pKSxcclxuICAgICAgKF8uZ2V0KGRhdGEsWydkYXRhJywgJ2lhcWknLCAndycsICd2J10pKV07XHJcbiAgICAgIFxyXG4gICAgICBmb3IgKGxldCBtID0gMDsgbSA8IGFycmF5Lmxlbmd0aDsgbSsrKSB7XHJcbiAgICAgICAgbGV0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuXHJcbiAgICAgICAgbGV0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhcIik7XHJcbiAgICAgICAgbGV0IGNlbGxUZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYXJyYXlbbV0pO1xyXG4gICAgICAgIGNlbGwuYXBwZW5kQ2hpbGQoY2VsbFRleHQpO1xyXG4gICAgICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTtcclxuXHJcbiAgICAgICAgbGV0IGNlbGwyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gICAgICAgIGlmIChtID09IDAgfHwgbSA9PSAyIHx8IG0gPT0gMyB8fCBtID09IDUgfHwgbSA9PSA2IHx8IG0gPT0gNykge3NlYXJjaEdlby5jaGVja0NvbG9yKGFycmF5RGF0ZVttXSwgY2VsbDIpO31cclxuICAgICAgICBsZXQgY2VsbFRleHQyID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYXJyYXlEYXRlW21dKTtcclxuICAgICAgICBjZWxsMi5hcHBlbmRDaGlsZChjZWxsVGV4dDIpO1xyXG4gICAgICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsMik7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFibGVCb2R5R2VvMlwiKS5hcHBlbmRDaGlsZChyb3cpO1xyXG4gICAgICB9ICAgICBcclxuICAgIH1cclxuXHJcbiAgICAvKiBNZXRob2QgdGhhdCBjaGVja3MgY29sb3Igb2YgQVFJICovXHJcbiAgICBjaGVja0NvbG9yKGNoZWNrQ29sb3IsIGNlbGwyKSB7XHJcbiAgICAgIGlmIChjaGVja0NvbG9yID09IFwiLVwiKSByZXR1cm4gIFxyXG4gICAgICBsZXQgbnVtID0gTnVtYmVyKGNoZWNrQ29sb3IpO1xyXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNwZWN0cnVtLmxlbmd0aDsgaisrKSB7ICBcclxuICAgICAgICAgIGlmIChudW0gPD0gc3BlY3RydW1bal0uYSkge1xyXG4gICAgICAgICAgICAgIGNlbGwyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHNwZWN0cnVtW2pdLmI7XHJcbiAgICAgICAgICAgICAgY2VsbDIuc3R5bGUuY29sb3IgPSBzcGVjdHJ1bVtqXS5mO1xyXG4gICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICB9ICAgXHJcbiAgICAgIH1cclxuICB9XHJcbiAgICAvKiBFcnJvciBmdW5jdGlvbiBnZXRDdXJyZW50UG9zaXRpb24gKi9cclxuICAgIGVycm9yKGVycikge1xyXG4gICAgICBjb25zb2xlLndhcm4oYEVSUk9SKCR7ZXJyLmNvZGV9KTogJHtlcnIubWVzc2FnZX1gKTtcclxuICAgIH1cclxufVxyXG5cclxubGV0IG9wdGlvbnMgPSB7XHJcbiAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLFxyXG4gIHRpbWVvdXQ6IDUwMDAsXHJcbiAgbWF4aW11bUFnZTogMFxyXG59XHJcblxyXG5sZXQgc3BlY3RydW0gPSBbXHJcbiAgeyBhOiAwLCBiOiBcIiNjY2NjY2NcIiwgZjogXCIjZmZmZmZmXCIgfSxcclxuICB7IGE6IDUwLCBiOiBcIiMwMDk5NjZcIiwgZjogXCIjZmZmZmZmXCIgfSxcclxuICB7IGE6IDEwMCwgYjogXCIjZmZkZTMzXCIsIGY6IFwiIzAwMDAwMFwiIH0sXHJcbiAgeyBhOiAxNTAsIGI6IFwiI2ZmOTkzM1wiLCBmOiBcIiMwMDAwMDBcIiB9LFxyXG4gIHsgYTogMjAwLCBiOiBcIiNjYzAwMzNcIiwgZjogXCIjZmZmZmZmXCIgfSxcclxuICB7IGE6IDMwMCwgYjogXCIjNjYwMDk5XCIsIGY6IFwiI2ZmZmZmZlwiIH0sXHJcbiAgeyBhOiA1MDAsIGI6IFwiIzdlMDAyM1wiLCBmOiBcIiNmZmZmZmZcIiB9LFxyXG5dO1xyXG5cclxubGV0IHNlYXJjaEdlbyA9IG5ldyBHZW8oXCJzdHJ1Y3R1cmVHZW9cIik7XHJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGVudFwiKS5hcHBlbmRDaGlsZChzZWFyY2hHZW8uY29tcG9uZW50R2VvKCkpO1xyXG5uYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKHNlYXJjaEdlby5zdWNjZXNzLCBzZWFyY2hHZW8uZXJyb3IsIG9wdGlvbnMpOyJdLCJzb3VyY2VSb290IjoiIn0=