(()=>{let e=[{a:0,b:"#cccccc",f:"#ffffff"},{a:50,b:"#009966",f:"#ffffff"},{a:100,b:"#ffde33",f:"#000000"},{a:150,b:"#ff9933",f:"#000000"},{a:200,b:"#cc0033",f:"#ffffff"},{a:300,b:"#660099",f:"#ffffff"},{a:500,b:"#7e0023",f:"#ffffff"}],t=new class{constructor(e){this.name=e}componentGeo(){let e=document.createElement("DIV");e.classList.add("divGeo"),e.innerHTML="Get station closer:";let t=document.createElement("BUTTON");return t.setAttribute("id","position"),t.textContent="Position",e.appendChild(t),e}success(e){let a=e.coords;!async function(){try{let e="https://api.waqi.info/feed/geo:"+a.latitude+";"+a.longitude+"/?token=20482dc6f3de69576db86cc011ac7d405a7d5c4b",o=await fetch(e),d=await o.json();console.log(d),t.showGeo(d)}catch(e){console.log("error"+e)}}()}showGeo(e){document.getElementById("position").onclick=function(){let a=document.getElementById("show");a.innerHTML="";let o=document.createElement("table");o.setAttribute("id","tableGeo");let d=document.createElement("tbody");d.setAttribute("id","tableBodyGeo"),o.appendChild(d),a.appendChild(o);let n=["Aqui","Date","Time","Name Station","Longitude","Latitude"],i=[_.get(e,["data","aqi"]),_.get(e,["data","time","s"]),_.get(e,["data","time","tz"]),_.get(e,["data","city","name"]),_.get(e,["data","city","geo",0]),_.get(e,["data","city","geo",1])];for(let e=0;e<n.length;e++){let a=document.createElement("tr"),o=document.createElement("th"),d=document.createTextNode(n[e]);o.appendChild(d),a.appendChild(o);let c=document.createElement("td");0==e&&t.checkColor(i[0],c);let l=document.createTextNode(i[e]);c.appendChild(l),a.appendChild(c),document.getElementById("tableBodyGeo").appendChild(a)}t.generateTableIaqi(e)}}generateTableIaqi(e){let a=document.createElement("table");a.setAttribute("id","tableGeo2");let o=document.createElement("tbody");o.setAttribute("id","tableBodyGeo2"),a.appendChild(o),show.appendChild(a);let d=["Carbon Monoxyde","Relative Humidity","Nitrogen Dioxide","Ozone","Atmostpheric Pressure","PM10","PM25","Sulphur Dioxide","Temperature","Wind"],n=[_.get(e,["data","iaqi","co","v"]),_.get(e,["data","iaqi","h","v"]),_.get(e,["data","iaqi","no2","v"]),_.get(e,["data","iaqi","o3","v"]),_.get(e,["data","iaqi","p","v"]),_.get(e,["data","iaqi","pm10","v"]),_.get(e,["data","iaqi","pm25","v"]),_.get(e,["data","iaqi","so2","v"]),_.get(e,["data","iaqi","t","v"]),_.get(e,["data","iaqi","w","v"])];for(let e=0;e<d.length;e++){let a=document.createElement("tr"),o=document.createElement("th"),i=document.createTextNode(d[e]);o.appendChild(i),a.appendChild(o);let c=document.createElement("td");0!=e&&2!=e&&3!=e&&5!=e&&6!=e&&7!=e||t.checkColor(n[e],c);let l=document.createTextNode(n[e]);c.appendChild(l),a.appendChild(c),document.getElementById("tableBodyGeo2").appendChild(a)}}checkColor(t,a){if("-"==t)return;let o=Number(t);for(let t=0;t<e.length;t++)if(o<=e[t].a){a.style.backgroundColor=e[t].b,a.style.color=e[t].f;break}}error(e){console.warn(`ERROR(${e.code}): ${e.message}`)}}("structureGeo");document.getElementById("content").appendChild(t.componentGeo()),navigator.geolocation.getCurrentPosition(t.success,t.error,{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Qcm9nZXR0by1KYXZhc2NyaXB0LUFkdmFuY2VkLy4vc3JjL2dlby5qcyJdLCJuYW1lcyI6WyJzcGVjdHJ1bSIsImEiLCJiIiwiZiIsInNlYXJjaEdlbyIsIm5hbWUiLCJ0aGlzIiwiZWxlbWVudDIiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbm5lckhUTUwiLCJidG4iLCJzZXRBdHRyaWJ1dGUiLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwicG9zIiwiY3JkIiwiY29vcmRzIiwiYXN5bmMiLCJhcGlfdXJsIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJyZXNwb25zZSIsImZldGNoIiwiZGF0YSIsImpzb24iLCJjb25zb2xlIiwibG9nIiwic2hvd0dlbyIsImVyciIsImdlbyIsImdldEVsZW1lbnRCeUlkIiwib25jbGljayIsInNob3ciLCJ0YWJsZSIsInRhYmxlQm9keSIsImFycmF5IiwiYXJyYXlEYXRlIiwiXyIsImdldCIsInAiLCJsZW5ndGgiLCJyb3ciLCJjZWxsIiwiY2VsbFRleHQiLCJjcmVhdGVUZXh0Tm9kZSIsImNlbGwyIiwiY2hlY2tDb2xvciIsImNlbGxUZXh0MiIsImdlbmVyYXRlVGFibGVJYXFpIiwibSIsIm51bSIsIk51bWJlciIsImoiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsImNvbG9yIiwid2FybiIsImNvZGUiLCJtZXNzYWdlIiwiY29tcG9uZW50R2VvIiwibmF2aWdhdG9yIiwiZ2VvbG9jYXRpb24iLCJnZXRDdXJyZW50UG9zaXRpb24iLCJzdWNjZXNzIiwiZXJyb3IiLCJlbmFibGVIaWdoQWNjdXJhY3kiLCJ0aW1lb3V0IiwibWF4aW11bUFnZSJdLCJtYXBwaW5ncyI6Ik1BMEhBLElBTUlBLEVBQVcsQ0FDYixDQUFFQyxFQUFHLEVBQUdDLEVBQUcsVUFBV0MsRUFBRyxXQUN6QixDQUFFRixFQUFHLEdBQUlDLEVBQUcsVUFBV0MsRUFBRyxXQUMxQixDQUFF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LEVBQVlELEdBQ3JCLEdBQWtCLEtBQWRDLEVBQW1CLE9BQ3ZCLElBQUlJLEVBQU1DLE9BQU9MLEdBQ2pCLElBQUssSUFBSU0sRUFBSSxFQUFHQSxFQUFJdkQsRUFBUzJDLE9BQVFZLElBQ2pDLEdBQUlGLEdBQU9yRCxFQUFTdUQsR0FBR3RELEVBQUcsQ0FDdEIrQyxFQUFNUSxNQUFNQyxnQkFBa0J6RCxFQUFTdUQsR0FBR3JELEVBQzFDOEMsRUFBTVEsTUFBTUUsTUFBUTFELEVBQVN1RCxHQUFHcEQsRUFDaEMsT0FLVixNQUFNNEIsR0FDSkgsUUFBUStCLEtBQUssU0FBUzVCLEVBQUk2QixVQUFVN0IsRUFBSThCLGFBb0J0QixnQkFDeEJyRCxTQUFTeUIsZUFBZSxXQUFXakIsWUFBWVosRUFBVTBELGdCQUN6REMsVUFBVUMsWUFBWUMsbUJBQW1CN0QsRUFBVThELFFBQVM5RCxFQUFVK0QsTUFsQnhELENBQ1pDLG9CQUFvQixFQUNwQkMsUUFBUyxJQUNUQyxXQUFZLEsiLCJmaWxlIjoiZ2VvLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBjbGFzcyBHZW8ge1xyXG4gICAgY29uc3RydWN0b3IobmFtZSkge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICB9XHJcbiAgICAvKiBDcmVhdGlvbiBjb21wb25lbnQgR2VvICovXHJcbiAgICBjb21wb25lbnRHZW8oKSB7XHJcbiAgICAgICAgbGV0IGVsZW1lbnQyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcbiAgICAgICAgZWxlbWVudDIuY2xhc3NMaXN0LmFkZCgnZGl2R2VvJyk7XHJcbiAgICAgICAgZWxlbWVudDIuaW5uZXJIVE1MID0gXCJHZXQgc3RhdGlvbiBjbG9zZXI6XCJcclxuICAgICAgICBsZXQgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkJVVFRPTlwiKTtcclxuICAgICAgICBidG4uc2V0QXR0cmlidXRlKCdpZCcsICdwb3NpdGlvbicpO1xyXG4gICAgICAgIGJ0bi50ZXh0Q29udGVudCA9IFwiUG9zaXRpb25cIjtcclxuICAgICAgICBlbGVtZW50Mi5hcHBlbmRDaGlsZChidG4pO1xyXG4gICAgICAgIHJldHVybiBlbGVtZW50MjtcclxuICAgIH1cclxuXHJcbiAgICAvKiBTdWNjZXNzIGZ1bmN0aW9uIGdldEN1cnJlbnRQb3NpdGlvbiAqL1xyXG4gICAgc3VjY2Vzcyhwb3MpIHtcclxuICAgICAgICBsZXQgY3JkID0gcG9zLmNvb3JkcztcclxuICAgICAgICBhc3luYyBmdW5jdGlvbiBnZW8oKSB7IFxyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGFwaV91cmwgPSAoXCJodHRwczovL2FwaS53YXFpLmluZm8vZmVlZC9nZW86XCIgKyBjcmQubGF0aXR1ZGUgK1wiO1wiKyBjcmQubG9uZ2l0dWRlICsgXCIvP3Rva2VuPVwiICsgcHJvY2Vzcy5lbnYuU0VDUkVUX05BTUUpO1xyXG4gICAgICAgICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhcGlfdXJsKTtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICByZXR1cm4gc2VhcmNoR2VvLnNob3dHZW8oZGF0YSk7ICAgICAgICAgIFxyXG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJlcnJvclwiICsgZXJyKTsgXHJcbiAgICAgICAgICB9ICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgIGdlbygpOyAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICAvKiBNZXRob2QgdGhhdCBzaG93cyBkYXRlcyAqL1xyXG4gICAgc2hvd0dlbyhkYXRhKSB7XHJcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvc2l0aW9uXCIpLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbGV0IHNob3cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNob3dcIik7XHJcbiAgICAgICAgICAgIHNob3cuaW5uZXJIVE1MID0gXCJcIjtcclxuXHJcbiAgICAgICAgICAgIGxldCB0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTsgICAgXHJcbiAgICAgICAgICAgIHRhYmxlLnNldEF0dHJpYnV0ZShcImlkXCIsIFwidGFibGVHZW9cIik7XHJcbiAgICAgICAgICAgIGxldCB0YWJsZUJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGJvZHlcIik7XHJcbiAgICAgICAgICAgIHRhYmxlQm9keS5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInRhYmxlQm9keUdlb1wiKTtcclxuICAgICAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQodGFibGVCb2R5KTtcclxuICAgICAgICAgICAgc2hvdy5hcHBlbmRDaGlsZCh0YWJsZSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IGFycmF5ID0gW1wiQXF1aVwiLCBcIkRhdGVcIiwgXCJUaW1lXCIsIFwiTmFtZSBTdGF0aW9uXCIsIFwiTG9uZ2l0dWRlXCIsIFwiTGF0aXR1ZGVcIl07XHJcbiAgICAgICAgICAgIGxldCBhcnJheURhdGUgPSBbKF8uZ2V0KGRhdGEsWydkYXRhJywgJ2FxaSddKSksIChfLmdldChkYXRhLFsnZGF0YScsICd0aW1lJywgJ3MnXSkpLFxyXG4gICAgICAgICAgICAoXy5nZXQoZGF0YSxbJ2RhdGEnLCAndGltZScsICd0eiddKSksIChfLmdldChkYXRhLFsnZGF0YScsICdjaXR5JywgJ25hbWUnXSkpLCBcclxuICAgICAgICAgICAgKF8uZ2V0KGRhdGEsWydkYXRhJywgJ2NpdHknLCAnZ2VvJywgMF0pKSwgKF8uZ2V0KGRhdGEsWydkYXRhJywgJ2NpdHknLCAnZ2VvJywgMV0pKV07XHJcbiAgICBcclxuICAgICAgICAgICAgZm9yIChsZXQgcCA9IDA7IHAgPCBhcnJheS5sZW5ndGg7IHArKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiKTtcclxuICAgICAgICAgICAgICAgIGxldCBjZWxsVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGFycmF5W3BdKTtcclxuICAgICAgICAgICAgICAgIGNlbGwuYXBwZW5kQ2hpbGQoY2VsbFRleHQpO1xyXG4gICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGNlbGwpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBjZWxsMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChwID09IDApIHtzZWFyY2hHZW8uY2hlY2tDb2xvcihhcnJheURhdGVbMF0sIGNlbGwyKTt9IFxyXG4gICAgICAgICAgICAgICAgbGV0IGNlbGxUZXh0MiA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGFycmF5RGF0ZVtwXSk7XHJcbiAgICAgICAgICAgICAgICBjZWxsMi5hcHBlbmRDaGlsZChjZWxsVGV4dDIpO1xyXG4gICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGNlbGwyKTtcclxuXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhYmxlQm9keUdlb1wiKS5hcHBlbmRDaGlsZChyb3cpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNlYXJjaEdlby5nZW5lcmF0ZVRhYmxlSWFxaShkYXRhKTtcclxuICAgICAgICB9ICBcclxuICAgIH0gXHJcblxyXG4gICAgLyogTWV0aG9kIHRoYXQgZ2VuZXJhdGVzIGlhcWkgdGFibGUgZGF0ZXMgKi9cclxuICAgIGdlbmVyYXRlVGFibGVJYXFpKGRhdGEpIHtcclxuICAgICAgbGV0IHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRhYmxlXCIpOyAgICBcclxuICAgICAgdGFibGUuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJ0YWJsZUdlbzJcIik7XHJcbiAgICAgIGxldCB0YWJsZUJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGJvZHlcIik7XHJcbiAgICAgIHRhYmxlQm9keS5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInRhYmxlQm9keUdlbzJcIik7XHJcbiAgICAgIHRhYmxlLmFwcGVuZENoaWxkKHRhYmxlQm9keSk7XHJcbiAgICAgIHNob3cuYXBwZW5kQ2hpbGQodGFibGUpO1xyXG4gICAgICBcclxuICAgICAgbGV0IGFycmF5ID0gW1wiQ2FyYm9uIE1vbm94eWRlXCIsIFwiUmVsYXRpdmUgSHVtaWRpdHlcIiwgXCJOaXRyb2dlbiBEaW94aWRlXCIsIFwiT3pvbmVcIiwgXCJBdG1vc3RwaGVyaWMgUHJlc3N1cmVcIiwgXCJQTTEwXCIsIFwiUE0yNVwiLCBcIlN1bHBodXIgRGlveGlkZVwiLCBcIlRlbXBlcmF0dXJlXCIsIFwiV2luZFwiXTtcclxuICAgICAgbGV0IGFycmF5RGF0ZSA9IFsoXy5nZXQoZGF0YSxbJ2RhdGEnLCAnaWFxaScsICdjbycsICd2J10pKSwgKF8uZ2V0KGRhdGEsWydkYXRhJywgJ2lhcWknLCAnaCcsICd2J10pKSwgKF8uZ2V0KGRhdGEsWydkYXRhJywgJ2lhcWknLCAnbm8yJywgJ3YnXSkpLFxyXG4gICAgICAoXy5nZXQoZGF0YSxbJ2RhdGEnLCAnaWFxaScsICdvMycsICd2J10pKSwgKF8uZ2V0KGRhdGEsWydkYXRhJywgJ2lhcWknLCAncCcsICd2J10pKSwgKF8uZ2V0KGRhdGEsWydkYXRhJywgJ2lhcWknLCAncG0xMCcsICd2J10pKSxcclxuICAgICAgKF8uZ2V0KGRhdGEsWydkYXRhJywgJ2lhcWknLCAncG0yNScsICd2J10pKSwgKF8uZ2V0KGRhdGEsWydkYXRhJywgJ2lhcWknLCAnc28yJywgJ3YnXSkpLCAoXy5nZXQoZGF0YSxbJ2RhdGEnLCAnaWFxaScsICd0JywgJ3YnXSkpLFxyXG4gICAgICAoXy5nZXQoZGF0YSxbJ2RhdGEnLCAnaWFxaScsICd3JywgJ3YnXSkpXTtcclxuICAgICAgXHJcbiAgICAgIGZvciAobGV0IG0gPSAwOyBtIDwgYXJyYXkubGVuZ3RoOyBtKyspIHtcclxuICAgICAgICBsZXQgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG5cclxuICAgICAgICBsZXQgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiKTtcclxuICAgICAgICBsZXQgY2VsbFRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhcnJheVttXSk7XHJcbiAgICAgICAgY2VsbC5hcHBlbmRDaGlsZChjZWxsVGV4dCk7XHJcbiAgICAgICAgcm93LmFwcGVuZENoaWxkKGNlbGwpO1xyXG5cclxuICAgICAgICBsZXQgY2VsbDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XHJcbiAgICAgICAgaWYgKG0gPT0gMCB8fCBtID09IDIgfHwgbSA9PSAzIHx8IG0gPT0gNSB8fCBtID09IDYgfHwgbSA9PSA3KSB7c2VhcmNoR2VvLmNoZWNrQ29sb3IoYXJyYXlEYXRlW21dLCBjZWxsMik7fVxyXG4gICAgICAgIGxldCBjZWxsVGV4dDIgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhcnJheURhdGVbbV0pO1xyXG4gICAgICAgIGNlbGwyLmFwcGVuZENoaWxkKGNlbGxUZXh0Mik7XHJcbiAgICAgICAgcm93LmFwcGVuZENoaWxkKGNlbGwyKTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YWJsZUJvZHlHZW8yXCIpLmFwcGVuZENoaWxkKHJvdyk7XHJcbiAgICAgIH0gICAgIFxyXG4gICAgfVxyXG5cclxuICAgIC8qIE1ldGhvZCB0aGF0IGNoZWNrcyBjb2xvciBvZiBBUUkgKi9cclxuICAgIGNoZWNrQ29sb3IoY2hlY2tDb2xvciwgY2VsbDIpIHtcclxuICAgICAgaWYgKGNoZWNrQ29sb3IgPT0gXCItXCIpIHJldHVybiAgXHJcbiAgICAgIGxldCBudW0gPSBOdW1iZXIoY2hlY2tDb2xvcik7XHJcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgc3BlY3RydW0ubGVuZ3RoOyBqKyspIHsgIFxyXG4gICAgICAgICAgaWYgKG51bSA8PSBzcGVjdHJ1bVtqXS5hKSB7XHJcbiAgICAgICAgICAgICAgY2VsbDIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gc3BlY3RydW1bal0uYjtcclxuICAgICAgICAgICAgICBjZWxsMi5zdHlsZS5jb2xvciA9IHNwZWN0cnVtW2pdLmY7XHJcbiAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgIH0gICBcclxuICAgICAgfVxyXG4gIH1cclxuICAgIC8qIEVycm9yIGZ1bmN0aW9uIGdldEN1cnJlbnRQb3NpdGlvbiAqL1xyXG4gICAgZXJyb3IoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihgRVJST1IoJHtlcnIuY29kZX0pOiAke2Vyci5tZXNzYWdlfWApO1xyXG4gICAgfVxyXG59XHJcblxyXG5sZXQgb3B0aW9ucyA9IHtcclxuICBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWUsXHJcbiAgdGltZW91dDogNTAwMCxcclxuICBtYXhpbXVtQWdlOiAwXHJcbn1cclxuXHJcbmxldCBzcGVjdHJ1bSA9IFtcclxuICB7IGE6IDAsIGI6IFwiI2NjY2NjY1wiLCBmOiBcIiNmZmZmZmZcIiB9LFxyXG4gIHsgYTogNTAsIGI6IFwiIzAwOTk2NlwiLCBmOiBcIiNmZmZmZmZcIiB9LFxyXG4gIHsgYTogMTAwLCBiOiBcIiNmZmRlMzNcIiwgZjogXCIjMDAwMDAwXCIgfSxcclxuICB7IGE6IDE1MCwgYjogXCIjZmY5OTMzXCIsIGY6IFwiIzAwMDAwMFwiIH0sXHJcbiAgeyBhOiAyMDAsIGI6IFwiI2NjMDAzM1wiLCBmOiBcIiNmZmZmZmZcIiB9LFxyXG4gIHsgYTogMzAwLCBiOiBcIiM2NjAwOTlcIiwgZjogXCIjZmZmZmZmXCIgfSxcclxuICB7IGE6IDUwMCwgYjogXCIjN2UwMDIzXCIsIGY6IFwiI2ZmZmZmZlwiIH0sXHJcbl07XHJcblxyXG5sZXQgc2VhcmNoR2VvID0gbmV3IEdlbyhcInN0cnVjdHVyZUdlb1wiKTtcclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250ZW50XCIpLmFwcGVuZENoaWxkKHNlYXJjaEdlby5jb21wb25lbnRHZW8oKSk7XHJcbm5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oc2VhcmNoR2VvLnN1Y2Nlc3MsIHNlYXJjaEdlby5lcnJvciwgb3B0aW9ucyk7Il0sInNvdXJjZVJvb3QiOiIifQ==